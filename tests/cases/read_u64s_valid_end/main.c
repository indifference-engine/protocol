#include <stdint.h>
#include "../../helpers/main.h"
#include "../../../src/read_u64s.h"

void test()
{
  uint64_t actual_u64s[] = {0x71510A0492748A78, 0x62FA97A2E980CC87, 0xE017D981980DECA7};
  const uint8_t actual_buffer[] = {0xED, 0x08, 0xe5, 0x2b, 0x39, 0xcb, 0x1b, 0x85, 0x13, 0x31, 0x89, 0x10, 0x0F, 0x11, 0x87, 0xAE, 0xF0, 0x88, 0x39, 0x44, 0xD2, 0x77, 0x1E, 0xD9, 0xAA, 0xB1, 0x97, 0x63, 0x21, 0x15};

  assert(read_u64s(actual_buffer, 30, actual_u64s, 3, 6), "read_u64s valid_end");

  const uint64_t expected_u64s[] = {0x110F10893113851b, 0x77D2443988F0AE87, 0x15216397B1AAD91E};
  assert_u64s(expected_u64s, actual_u64s, 3, "read_u64s valid_end u64s");
  const uint8_t expected_buffer[] = {0xED, 0x08, 0xe5, 0x2b, 0x39, 0xcb, 0x1b, 0x85, 0x13, 0x31, 0x89, 0x10, 0x0F, 0x11, 0x87, 0xAE, 0xF0, 0x88, 0x39, 0x44, 0xD2, 0x77, 0x1E, 0xD9, 0xAA, 0xB1, 0x97, 0x63, 0x21, 0x15};
  assert_u8s(expected_buffer, actual_buffer, 30, "read_u64s valid_end buffer");
}
